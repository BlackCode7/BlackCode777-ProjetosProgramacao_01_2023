<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<!--Import Google Icon Font-->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
	rel="stylesheet">
<!--Import materialize.css-->
<link type="text/css" rel="stylesheet"
	href="/materialize/css/materializecss" media="screen,projection" />
<link type="text/css" rel="stylesheet" href="/materialize.min.css"
	media="screen,projection" />


</head>
<body>

	<a class="waves-effect waves-light btn" href="/cadastropessoa">Cadastro
		Pessoa</a>
	<br>

	<h3>Telefones cadastrados</h3>

	<div th:each="p: ${pessoaobj}">
		<div class="row">
			<p>
				ID:<span th:text="${p.id}"></span>
			<p>
				Nome:<span th:text="${p.nome}"></span>
			<p>
				SobreNome:<span th:text="${p.sobrenome}"></span>
			<p>
				Idade:<span th:text="${p.idade}"></span>
		</div>
	</div>

	<!-- Cadastro de telefones -->
	<div class="row">
	
		<form th:action="@{/addFonePessoa/{pessoaid}(pessoaid=${pessoaobj.id})}" method="post" class="col 12" onsubmit="return validarCampos()? true: false">
			<div class="row">
				<div class="input-field col s6">
					<label class="active" for="numero">Número:</label> <input id="numero" name="numero" class="validate">
				</div>
				<div class="input-field col s6">
					<label class="active" for="numero">Tipo:</label> <input id="tipo" name="tipo" class="validate">
				</div>				
				<input type="submit" value="Adicionar"  class="waves-effect waves-light btn">
			</div>
		</form>		
		<br><br>
	<table class="striped">
		<!-- For do thymeleaf  nome da funçao que traz os objetos-->
		<tr th:each = "fone:${telefones}">
			<td th:text="${fone.numero}"></td>			
			<td th:text="${fone.tipo}"></td>
			<td><a th:href="@{/excluirtelefone/{idtelefone}(idtelefone=${fone.id})}">Excluir</a></td> 
		</tr>
	</table>		
	</div>


	<script type="text/javascript">
	
		function validarCampos(){
			
			numero = document.getElementById('numero').value;
			tipo = document.getElementById('numero').value;
			
			if( numero == '' ){
				alert( "Numero deve ser informado!" );
				return false;
			}
			
			else if( tipo == ''){
				alert( "Tipo deve ser informado!" );
				return false;
			}
			
			return true;
		}
	
	</script>



	<!--JavaScript at end of body for optimized loading-->
	<script type="text/javascript" src="materialize/js/materialize.min.js"></script>
	<script type="text/javascript" src="materialize/js/materialize.js"></script>

</body>
</html>










